# Тестовое задание

Язык: Golang

## Цель

Задание состоит из нескольких пунктов, и цель заключается в том, чтобы выполнить как можно больше пунктов в выделенный срок.

## Задание

Написать REST API сервис с несколькими доступными командами.

### 1. Путь /rest/substr

Нужно найти максимальную подстроку, не содержащую повторяющихся символов. Входная строка состоит из латинских букв (нижний и верхний регистр) и цифр.

Доступные endpoint'ы:

#### 1.1 POST /rest/substr/find

Endpoint для нахождения заданной подстроки. Строка находится в теле HTTP запроса.

Для всех команд необходимо написать юнит-тесты в отдельном файле.

### 2. Путь /rest/email

Необходимо реализовать поиск строки следующего формата: "Email:$email", где вместо "  " может быть любое количество пробельных символов (включая переносы строк), а вместо $email должна быть строка, похожая на настоящий email.

Доступные endpoint'ы:

#### 2.1 POST /rest/email/check

Endpoint, который анализирует тело HTTP запроса и выдает все найденные email адреса.

* Усложненное задание: написать аналогичный функционал, который вместо email адресов будет искать последовательность цифр, которая является корректным ИИН.

### 3. Путь /rest/counter

Нужно написать простую реализацию счетчика. Необходимо добавить команды по увеличению и уменьшению счетчика. Счетчик хранится в Redis.

Доступные endpoint'ы:

#### 3.1 POST /rest/counter/add/$i

Команда для увеличения счетчика на $i, где $i - целое значение.

#### 3.2 POST /rest/counter/sub/$i

Команда для уменьшения счетчика на $i, где $i - целое значение.

#### 3.3 GET /rest/counter/val

Команда для получения текущего значения счетчика.

Для всех команд необходимо написать юнит-тесты в отдельном файле.

* Усложненный вариант задания: написать юнит-тесты без поднятия Redis сервера.

### 4. Путь /rest/user

Необходимо написать эндпоинты для реализации CRUD (Create-Read-Update-Delete) операций над пользователями. У пользователя есть его ID (генерируется во время Create), имя и фамилия. Пользователи должны храниться в реляционной базе данных (SQL).

Доступные endpoint'ы:

#### 4.1 POST /rest/user

Endpoint для создания пользователя. В теле HTTP запроса ожидаются следующие параметры:
- first_name - имя пользователя
- last_name - фамилия

Сервер должен добавить нового пользователя в базу данных и вернуть присвоенный базой ID в теле ответа.

#### 4.2 GET /rest/user/:id

Endpoint для получения информации о пользователе (имя, фамилия) по ID. ID передается в URL вместо строки ":id".

#### 4.3 PUT /rest/user/:id

Endpoint для обновления информации о пользователе. ID передается в URL вместо строки ":id". Остальная информация передается в теле HTTP запроса, аналогично endpoint'у 4.1.

#### 4.4 DELETE /rest/user/:id

Endpoint для удаления пользователя по ID. ID передается в URL вместо строки ":id".

* Усложненное задание:
- Написать юнит-тесты для функций, предназначенных для общения с базой данных без поднятия базы данных.

### 5. Путь /rest/hash

Необходимо реализовать подсчет следующей хэш функции:

1) Взять CRC64 хэш от входной строки.
2) Взять текущий timestamp с точностью до наносекунд.
3) Сделать логическое "И" текущего timestamp и текущего хэша.
4) Повторить шаги 2-3 в течение минуты с интервалом в 5 секунд.
5) Посчитать число единиц в двоичной записи полученного числа. Количество единиц и будет являться "хэшом".

Доступные endpoint'ы:

#### 5.1 POST /rest/hash/calc

Endpoint для подачи заявки на расчет хэша. Данные для хэширования передаются в теле HTTP запроса. В ответ приходит уникальный идентификатор заявки.

#### 5.2 GET /rest/hash/result/$id

Endpoint для получения результата для заявки с идентификатором $id. Команда возвращает "PENDING", если результат еще не посчитан, и сам хэш, если подсчет уже произошел.

* Усложненное задание:
- Написать свою реализацию функции, извлекающей текущий timestamp, с учетом того, что в один момент времени ее может вызывать только один исполнитель.
- Ограничить количество одновременно вычисляющихся хешей некой константой N.

### 6. Путь /rest/self (Дополнительное задание по желанию)

Необходимо реализовать поиск всех идентиф

икаторов (имена переменных, констант, типов, функций и т.д.) в исходных файлах тестового задания, которые содержат заданную подстроку.

Доступные endpoint'ы:

#### 6.1 GET /rest/self/find/$str

Endpoint для поиска идентификаторов. Возвращает список всех идентификаторов, удовлетворяющих заданному условию.

Для всех команд необходимо написать юнит-тесты в отдельном файле.

*Замечание:* Усложненные варианты заданий могут быть пропущены, если время не позволяет их выполнить.
